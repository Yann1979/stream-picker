<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Stream Picker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#0b0b0c;color:#f3f3f3}
    header{padding:16px 20px;border-bottom:1px solid #222;display:flex;justify-content:space-between;align-items:center}
    main{padding:16px 20px;max-width:1100px;margin:0 auto}
    .row{margin:12px 0}
    .chips{display:flex;flex-wrap:wrap;gap:.5rem}
    .chip{display:inline-flex;gap:.4rem;align-items:center;padding:.35rem .6rem;border:1px solid #333;border-radius:999px;background:#141416;font-size:.95rem}
    .chip input{margin:0}
    .btn{background:#3a82f7;border:none;padding:.5rem .8rem;border-radius:.6rem;color:#fff;cursor:pointer}
    .btn--ghost{background:transparent;border:1px solid #444}
    .mini{font-size:.9rem}
    .muted{color:#bdbdbd}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;margin-top:12px}
    .card{background:#15161a;border:1px solid #26282e;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}
    .card__media{width:100%;aspect-ratio:2/3;object-fit:cover;background:#0f1013}
    .card__body{padding:10px 12px}
    .meta{color:#9aa3ad;font-size:.9rem;margin:.2rem 0 .4rem}
    .badges{display:flex;flex-wrap:wrap;gap:.35rem;margin:.35rem 0}
    .badge{display:inline-flex;gap:.3rem;align-items:center;border:1px solid #2a2d33;background:#191b20;border-radius:10px;padding:.15rem .45rem}
    .card__actions{display:flex;gap:.4rem;flex-wrap:wrap;padding:10px 12px 12px}
    .active{outline:2px solid #3a82f7}
    footer{padding:20px;color:#a7b0bb;text-align:center;border-top:1px solid #222;margin-top:20px}
    #errorBar{margin:.5rem 0;color:#ff6b6b}
  </style>
</head>
<body>
  <header>
    <h1 style="margin:0;font-size:1.2rem">ðŸŽ¬ Stream Picker</h1>
    <button id="shuffleBtn" class="btn btn--ghost mini">Au hasard</button>
  </header>

  <main>
    <div id="errorBar" class="error" hidden></div>

    <form id="prefsForm">
      <div class="row">
        <label>Type :
          <select name="type">
            <option value="film">Film</option>
            <option value="sÃ©rie">SÃ©rie</option>
          </select>
        </label>
        <label style="margin-left:10px">DurÃ©e :
          <select name="duration">
            <option value="">Toutes</option>
            <option value="court">&lt; 60 min</option>
            <option value="moyen">60â€“120 min</option>
            <option value="long">&gt;= 120 min</option>
          </select>
        </label>
        <label style="margin-left:10px">Langue originale :
          <select name="olang">
            <option value="any">Toutes</option>
            <option value="fr">FranÃ§ais</option>
            <option value="en">Anglais</option>
            <option value="es">Espagnol</option>
            <option value="ko">CorÃ©en</option>
            <option value="ja">Japonais</option>
          </select>
        </label>
        <label style="margin-left:10px">De
          <input type="number" name="year_from" placeholder="2000" style="width:80px">
        </label>
        <label>Ã 
          <input type="number" name="year_to" placeholder="2025" style="width:80px">
        </label>
        <button class="btn mini" type="submit" style="margin-left:10px">Rechercher</button>
        <button id="resetBtn" class="btn btn--ghost mini" type="button" style="margin-left:6px">RÃ©initialiser</button>
      </div>

      <div class="row">
        <div class="chips" id="providersChips">
          <!-- rempli par app.js -->
        </div>
      </div>

      <div class="row">
        <div class="chips">
          <label class="chip"><input type="checkbox" name="genres" value="28">Action</label>
          <label class="chip"><input type="checkbox" name="genres" value="35">ComÃ©die</label>
          <label class="chip"><input type="checkbox" name="genres" value="18">Drame</label>
          <label class="chip"><input type="checkbox" name="genres" value="27">Horreur</label>
          <label class="chip"><input type="checkbox" name="genres" value="10749">Romance</label>
          <label class="chip"><input type="checkbox" name="genres" value="14">Fantastique</label>
          <label class="chip"><input type="checkbox" name="genres" value="878">SF</label>
          <label class="chip"><input class="chip--btn" data-mins="30" type="button" value="J'ai 30 min"></label>
          <label class="chip"><input class="chip--btn" data-mins="60" type="button" value="J'ai 1h"></label>
          <label class="chip"><input class="chip--btn" data-mins="120" type="button" value="J'ai 2h+"></label>
        </div>
      </div>
    </form>

    <p id="emptyMsg" class="muted">Aucun rÃ©sultat pour ces filtres (essaie dâ€™Ã©largir).</p>
    <section id="resultsGrid" class="grid"></section>
  </main>

  <footer>
    Â© <span id="year"></span> â€“ Stream Picker (FR)
  </footer>

  <!-- cache-busting via ?v= -->
  <script src="/app.js?v=20250914"></script>
</body>
</html>
